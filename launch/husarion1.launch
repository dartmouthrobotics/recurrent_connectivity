<launch>
    <arg name="robot_id"/>
    <arg name="base_station" default=""/>
    <arg name="robot_type"/>
    <arg name="relay_robots" default=""/>
    <rosparam file="$(find recurrent_connectivity)/param/ros.yaml"/>
    <group ns="robot_$(arg robot_id)">
        <include file="$(find recurrent_connectivity)/launch/robot.launch">
            <arg name="robot_name" value="$(arg robot_id)" />
            <arg name="robot_type" value="$(arg robot_type)" />
            <arg name="base_stations" value="$(arg base_station)" />
            <arg name="relay_robots" value="$(arg relay_robots)" />
        </include>

    <node pkg="nav2d_karto" name="Mapper" type="mapper">
        <rosparam command="load" file="$(find recurrent_connectivity)/param/mapper.yaml" subst_value="true"/>
    </node>
        <node name="master_discovery" pkg="master_discovery_fkie" type="master_discovery" >
            <param name="_mcast_group" value="224.0.0.1"/>
        </node>
        <node name="master_sync" pkg="master_sync_fkie" type="master_sync" output="screen">
            <rosparam param="ignore_topics">['/rosout','/rosout_agg','/shared_data_size','/shutdown','/tf','/tf_static']</rosparam>
            <rosparam param="ignore_nodes"> ['/*msgs_conversion*','/*rosbot_ekf*','/*rplidarNode*','/*serial_node*','/*Mapper*','/*GetMap*','/*OdomAlign*','/BaseAlign','/MapAlign','/*SetGoal*','/*navigator*','/*operator*'] </rosparam>
        </node>
    </group>
</launch>